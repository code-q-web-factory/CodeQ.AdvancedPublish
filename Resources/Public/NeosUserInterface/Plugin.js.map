{
  "version": 3,
  "sources": ["../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/readFromConsumerApi.ts", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-dom/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/redux-saga/effects/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/neosProjectPackages/neos-ui-redux-store/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/redux-actions/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/shims/vendor/react-redux/index.js", "../../Private/NeosUserInterface/node_modules/@neos-project/neos-ui-extensibility/src/index.ts", "../../Private/NeosUserInterface/src/manifest.js", "../../Private/NeosUserInterface/src/actions.js"],
  "sourcesContent": ["export default function readFromConsumerApi(key: string): (...args: any[]) => any {\n    return (...args: any[]) => {\n        if ((window as any)['@Neos:HostPluginAPI'] && (window as any)['@Neos:HostPluginAPI'][`@${key}`]) {\n            return (window as any)['@Neos:HostPluginAPI'][`@${key}`](...args);\n        }\n\n        throw new Error('You are trying to read from a consumer api that hasn\\'t been initialized yet!');\n    };\n}\n", "import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().ReactDOM;\n", "import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().React;\n", "import readFromConsumerApi from '../../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reduxSagaEffects;\n", "import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('NeosProjectPackages')().NeosUiReduxStore;\n", "import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reduxActions;\n", "import readFromConsumerApi from '../../../readFromConsumerApi';\n\nmodule.exports = readFromConsumerApi('vendor')().reactRedux;\n", "import createConsumerApi from './createConsumerApi';\nimport readFromConsumerApi from './readFromConsumerApi';\nimport {\n    SynchronousRegistry,\n    SynchronousMetaRegistry\n} from './registry/index';\n\nexport default readFromConsumerApi('manifest');\n\nexport {\n    createConsumerApi,\n    readFromConsumerApi,\n    SynchronousRegistry,\n    SynchronousMetaRegistry\n};\n", "import manifest from \"@neos-project/neos-ui-extensibility\";\nimport * as ReactDOM from 'react-dom';\nimport * as React from 'react';\n\nimport {takeLatest, take, put} from 'redux-saga/effects';\nimport {actionTypes} from '@neos-project/neos-ui-redux-store';\n\nimport {actions, reducer, selectors} from \"./actions\"\nimport {useSelector, useDispatch} from 'react-redux';\n\nconst Modal = (({iframeUri}) => {\n\tconst isOpen = useSelector(selectors.advancedPublishDialogOpen);\n\tconst iframeRef = React.useRef(null);\n\tconst dispatch = useDispatch();\n\n\tconst setExit = React.useCallback(() => {\n\t\tconst iframeWindow = iframeRef.current?.contentWindow;\n\t\tif (!iframeWindow) {\n\t\t\treturn;\n\t\t}\n        window.addEventListener('message', (event) => {\n            if (event.data === 'closePublicationPopup') {\n                dispatch(actions.toggleAdvancedPublishDialog({open: false}));\n            }\n        })\n\t}, [])\n\n\tif (!isOpen) {\n\t\treturn \"\";\n\t}\n\n\treturn <iframe\n\t\tref={iframeRef}\n\t\tonLoad={setExit}\n\t\tstyle={{\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\tzIndex: \"999999\",\n\t\t\ttop: \"0\",\n\t\t\tbackground: \"#000\",\n\t\t\tborder: \"0\"\n\t\t}}\n\t\tsrc={iframeUri}\n\t/>;\n})\n\nmanifest(\"CodeQ.AdvancedPublish\", {}, (globalRegistry, {frontendConfiguration}) => {\n\tfunction* afterPublish() {\n\t\tyield takeLatest(actionTypes.CR.Workspaces.PUBLISH, function* () {\n\t\t\tconst {payload} = yield take(actionTypes.ServerFeedback.HANDLE_SERVER_FEEDBACK)\n\t\t\tif (!payload.feedbackEnvelope.feedbacks.some((feedback) => feedback.type === \"Neos.Neos.Ui:Success\")) {\n\t\t\t\tconsole.warn(`CodeQ.AdvancedPublish :: Publishing doesnt seem to have been successful. Aborting.`)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tyield put(actions.toggleAdvancedPublishDialog())\n\t\t})\n\t}\n\n\tglobalRegistry.get('containers').set('Modals/CodeQ.AdvancedPublish', () => ReactDOM.createPortal(\n\t\t<Modal iframeUri={frontendConfiguration[\"CodeQ.AdvancedPublish\"].iframeUri}/>,\n\t\tdocument.body\n\t));\n\tglobalRegistry.get('sagas').set('CodeQ.AdvancedPublish/afterPublish', { saga: afterPublish });\n\tglobalRegistry.get('reducers').set('CodeQ.AdvancedPublish', { reducer });\n});\n", "import { createAction, handleActions } from 'redux-actions';\n\nexport const actionTypes = {\n  TOGGLE_ADVANCED_PUBLISH_DIALOG: 'CodeQ.AdvancedPublish/TOGGLE_ADVANCED_PUBLISH_DIALOG',\n};\n\nconst toggleAdvancedPublishDialog = createAction(actionTypes.TOGGLE_ADVANCED_PUBLISH_DIALOG);\n\nexport const actions = {\n  toggleAdvancedPublishDialog,\n};\n\nexport const reducer = handleActions(\n  {\n    [actionTypes.TOGGLE_ADVANCED_PUBLISH_DIALOG]: (state, action) => ({\n      ...state,\n      plugins: {\n        ...state.plugins,\n        advancedPublishDialog: {\n          open: action.payload !== undefined ? action.payload.open : !state.plugins?.advancedPublishDialog?.open,\n        },\n      },\n    }),\n  },\n  {\n    plugins: {\n      advancedPublishDialog: {\n        open: false,\n      },\n    },\n  }\n);\n\nexport const selectors = {\n\tadvancedPublishDialogOpen: (state) => state.plugins?.advancedPublishDialog?.open,\n};\n"],
  "mappings": "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",
  "names": ["readFromConsumerApi", "key", "args", "init_readFromConsumerApi", "__esmMin", "require_react_dom", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_react", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_effects", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_neos_ui_redux_store", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_redux_actions", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "require_react_redux", "__commonJSMin", "exports", "module", "init_readFromConsumerApi", "readFromConsumerApi", "init_readFromConsumerApi", "dist_default", "readFromConsumerApi", "ReactDOM", "React", "import_effects", "import_neos_ui_redux_store", "import_redux_actions", "actionTypes", "toggleAdvancedPublishDialog", "actions", "reducer", "state", "action", "selectors", "import_react_redux", "Modal", "iframeUri", "isOpen", "selectors", "iframeRef", "dispatch", "setExit", "event", "actions", "dist_default", "globalRegistry", "frontendConfiguration", "afterPublish", "payload", "feedback", "reducer"]
}
